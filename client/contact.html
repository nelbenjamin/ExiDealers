<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Contact Us | Exi Dealers</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1669192747799799');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1669192747799799&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
    <script>
    // Force favicon update
    const favicon = document.querySelector('link[rel="icon"]');
    if (favicon) {
        // Add timestamp to bypass cache
        const timestamp = new Date().getTime();
        favicon.href = 'favicon.png?' + timestamp;
        
        // Create new link element as backup
        const newFavicon = document.createElement('link');
        newFavicon.rel = 'icon';
        newFavicon.href = 'favicon.png?' + timestamp;
        newFavicon.type = 'image/png';
        document.head.appendChild(newFavicon);
    }
</script>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link href="styles.css" rel="stylesheet" />
    <style>
    .contact-header {
        background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7));
        background-size: cover;
        background-position: center;
    }
    
    /* Background for all pages */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1800&q=80') no-repeat center center;
        background-size: cover;
        z-index: -2;
        opacity: 0;
        transition: opacity 2s ease-in-out;
        filter: brightness(0.8);
    }
    
    body.background-loaded::before {
        opacity: 0.8;
    }
    
    /* Ensure content has proper background */
    .card {
        background-color: rgba(255, 255, 255, 0.95) !important;
    }
    
    .accordion-item {
        background-color: rgba(255, 255, 255, 0.95) !important;
    }
    
    /* Footer should remain solid dark */
    .footer {
        background: #1a1a1a !important;
    }

    .navbar-brand img {
        filter: brightness(0) invert(1);
        height: 60px !important; /* Increased to match index page */
        width: auto;
    }

    /* NEW: Increased header/navigation size to match index page */
    .navbar {
        padding-top: 0.7rem; /* Increased to match index page */
        padding-bottom: 0.7rem; /* Increased to match index page */
        min-height: 80px; /* Increased to match index page */
    }

    .nav-link {
        font-size: 1rem !important; /* Increased to match index page */
        padding: 0.6rem 1rem !important; /* Increased padding to match index page */
        font-weight: 600 !important; /* Added font weight for better visibility */
    }

    /* NEW: Reduced page header text sizes */
    .contact-header h1 {
        font-size: 2.5rem !important; /* Reduced from display-4 */
        margin-bottom: 1rem !important;
    }

    .contact-header .lead {
        font-size: 1.1rem !important; /* Reduced size */
    }

    /* NEW: Reduced card header text sizes */
    .card-header h3 {
        font-size: 1.3rem !important; /* Reduced size */
    }

    /* NEW: Reduced form label sizes */
    .form-label {
        font-size: 0.95rem !important; /* Reduced size */
    }

    /* NEW: Reduced contact info heading sizes */
    .card-body h5 {
        font-size: 1.1rem !important; /* Reduced size */
    }

    .card-body p {
        font-size: 0.95rem !important; /* Reduced size */
    }

    /* NEW: Reduced accordion text sizes */
    .accordion-button {
        font-size: 0.95rem !important; /* Reduced size */
    }

    .accordion-body {
        font-size: 0.9rem !important; /* Reduced size */
    }

    /* NEW: Consistent footer text sizes */
    .footer h5 {
        font-size: 1.1rem !important; /* Consistent heading size */
        margin-bottom: 1rem !important;
    }

    .footer p, .footer li, .footer a {
        font-size: 0.9rem !important; /* Consistent text size */
    }
</style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container"> <!-- Added this container -->
        <a class="navbar-brand" href="index.html">
            <img src="logo.png" alt="Exi Dealers Logo" style="height: 70px; width: auto;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="/view">Browse Cars</a></li>
                <li class="nav-item"><a class="nav-link active" href="/contact">Contact Us</a></li>
            </ul>
        </div>
    </div> <!-- Closing container -->
</nav>

    <!-- Page Header -->
    <header class="contact-header py-5">
        <div class="overlay"></div>
        <div class="container text-center">
            <h1 class="display-4 fw-bold text-white">Contact Us</h1>
            <p class="lead text-white">We're here to help with any questions</p>
        </div>
    </header>

    <!-- Contact Section -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 mb-5 mb-lg-0">
                    <div class="card shadow">
                        <div class="card-header bg-primary text-white">
                            <h3 class="mb-0">Send Us a Message</h3>
                        </div>
                        <div class="card-body">
                            <form id="contactForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="contactName" class="form-label"
                                          >Your Name <span class="text-danger">*</span></label
                                        >
                                        <input
                                          type="text"
                                          class="form-control"
                                          id="contactName"
                                          name="name"
                                          required
                                        />
                                    </div>
                                    <div class="col-md-6">
                                        <label for="contactEmail" class="form-label"
                                          >Email Address <span class="text-danger">*</span></label
                                        >
                                        <input
                                          type="email"
                                          class="form-control"
                                          id="contactEmail"
                                          name="email"
                                          required
                                        />
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="contactSubject" class="form-label"
                                      >Subject <span class="text-danger">*</span></label
                                    >
                                    <input
                                      type="text"
                                      class="form-control"
                                      id="contactSubject"
                                      name="subject"
                                      required
                                    />
                                </div>

                                <div class="mb-3">
                                    <label for="contactMessage" class="form-label"
                                      >Message <span class="text-danger">*</span></label
                                    >
                                    <textarea
                                      class="form-control"
                                      id="contactMessage"
                                      name="message"
                                      rows="5"
                                      required
                                    ></textarea>
                                </div>

                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary btn-lg">
                                      Send Message
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-lg-5">
                    <div class="card shadow mb-4">
                        <div class="card-header bg-primary text-white">
                            <h3 class="mb-0">Contact Information</h3>
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li class="mb-3">
                                    <h5>
                                        <i class="fas fa-map-marker-alt me-2 text-primary"></i>
                                        Our Location
                                    </h5>
                                    <p>Windhoek City</p>
                                </li>
                                <li class="mb-3">
                                    <h5><i class="fas fa-phone me-2 text-primary"></i> Phone</h5>
                                    <p> +264 (81) 267 5760</p>
                                </li>
                                <li class="mb-3">
                                    <h5><i class="fas fa-envelope me-2 text-primary"></i> Email</h5>
                                    <p>sales@exidealers.com</p>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="card shadow">
                        <div class="card-header bg-primary text-white">
                            <h3 class="mb-0">Frequently Asked Questions</h3>
                        </div>
                        <div class="card-body">
                            <div class="accordion" id="faqAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                          class="accordion-button collapsed"
                                          type="button"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#faq1"
                                        >
                                            How do I list my car for sale?
                                        </button>
                                    </h2>
                                    <div
                                      id="faq1"
                                      class="accordion-collapse collapse"
                                      data-bs-parent="#faqAccordion"
                                    >
                                        <div class="accordion-body">
                                            You can list your car by contacting us with with your car details, pictures and contact details. 
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                          class="accordion-button collapsed"
                                          type="button"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#faq2"
                                        >
                                            How long does it take to sell my car?
                                        </button>
                                    </h2>
                                    <div
                                      id="faq2"
                                      class="accordion-collapse collapse"
                                      data-bs-parent="#faqAccordion"
                                    >
                                        <div class="accordion-body">
                                            The time it takes to sell a car varies depending on the
                                            vehicle, price, and market demand.
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                          class="accordion-button collapsed"
                                          type="button"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#faq3"
                                        >
                                            What fees are involved in selling?
                                        </button>
                                    </h2>
                                    <div
                                      id="faq3"
                                      class="accordion-collapse collapse"
                                      data-bs-parent="#faqAccordion"
                                    >
                                        <div class="accordion-body">
                                            The fees for selling will be communicated when you contact us with your car details and price
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer bg-dark text-white pt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5><i class="fas fa-car-luxury"></i> Exi Dealers</h5>
                    <p>Your trusted partner for buying premium quality vehicles.</p>
                </div>
                <div class="col-md-2 mb-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="view.html">Browse Cars</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5>Premium Brands</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">Mercedes-Benz</a></li>
                        <li><a href="#">BMW</a></li>
                        <li><a href="#">Audi</a></li>
                        <li><a href="#">Lexus</a></li>
                        <li><a href="#">Land Rover</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5>Contact Info</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-map-marker-alt me-2"></i> Windhoek, Namibia</li>
                        <li><i class="fas fa-phone me-2"></i> +264 (81) 267 5760</li>
                        <li><i class="fas fa-envelope me-2"></i> sales@exidealers.com</li>
                    </ul>
                </div>
            </div>
            <hr class="bg-light" />
            <div class="row">
                <div class="col-md-6 mb-3">
                    <p>&copy; 2025 Exi Dealers. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Added JS to handle contact form submission and background emergence -->

    <script>
// Add this to all other pages for footer brand links
document.addEventListener('DOMContentLoaded', function() {
    // Footer brand links functionality
    document.querySelectorAll('.footer a[href="#"]').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const brand = this.textContent.trim();
            // Redirect to view page with brand filter
            window.location.href = `/view?search=${encodeURIComponent(brand)}`;
        });
    });
});
</script>

    <script>
        // Background image that emerges on load
        document.addEventListener('DOMContentLoaded', function() {
            // Make the background emerge
            setTimeout(() => {
                document.body.classList.add('background-loaded');
            }, 100);
        });

        document.getElementById('contactForm').addEventListener('submit', async function (e) {
          e.preventDefault();

          const form = e.target;
          const formData = new FormData(form);
          const data = {};

          formData.forEach((value, key) => {
            data[key] = value;
          });

          try {
            const response = await fetch('/api/contact', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(data),
            });

            if (response.ok) {
              alert('Thank you! Your message has been sent. We will get back to you soon.');
              form.reset();
            } else {
              const errorData = await response.json();
              alert('Failed to send message: ' + (errorData.error || 'Unknown error'));
            }
          } catch (error) {
            alert('Network error. Please try again later.');
          }
        });
    </script>

<script>
// Navigation script for all pages
document.addEventListener('DOMContentLoaded', async function() {
    await loadNavigation();
});

async function loadNavigation() {
    try {
        const response = await fetch('/api/auth/status');
        const data = await response.json();
        
        const navbarContent = document.getElementById('navbarContent') || document.querySelector('.navbar-collapse');
        
        if (!navbarContent) return;
        
        if (data.authenticated) {
            // User is logged in - show user dropdown
            navbarContent.innerHTML = `
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link ${window.location.pathname === '/' ? 'active' : ''}" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link ${window.location.pathname.includes('/view') ? 'active' : ''}" href="/view">Browse Cars</a></li>
                    <li class="nav-item"><a class="nav-link ${window.location.pathname.includes('/contact') ? 'active' : ''}" href="/contact">Contact Us</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user me-1"></i> ${data.user.name}
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/profile"><i class="fas fa-user me-2"></i>My Profile</a></li>
                            <li><a class="dropdown-item" href="/profile#favorites"><i class="fas fa-heart me-2"></i>My Favorites</a></li>
                            <li><a class="dropdown-item" href="/profile#saved"><i class="fas fa-bookmark me-2"></i>Saved Cars</a></li>
                            <li><a class="dropdown-item" href="/profile#alerts"><i class="fas fa-bell me-2"></i>Price Alerts</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logoutUser()"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                </ul>
            `;
        } else {
            // User is not logged in - show login/register
            navbarContent.innerHTML = `
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link ${window.location.pathname === '/' ? 'active' : ''}" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link ${window.location.pathname.includes('/view') ? 'active' : ''}" href="/view">Browse Cars</a></li>
                    <li class="nav-item"><a class="nav-link ${window.location.pathname.includes('/contact') ? 'active' : ''}" href="/contact">Contact Us</a></li>
                    <li class="nav-item"><a class="nav-link ${window.location.pathname.includes('/login') ? 'active' : ''}" href="/login">Login</a></li>
                    <li class="nav-item"><a class="nav-link ${window.location.pathname.includes('/register') ? 'active' : ''}" href="/register">Register</a></li>
                </ul>
            `;
        }
        
        // Initialize Bootstrap dropdown
        const dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'));
        dropdownElementList.map(function (dropdownToggleEl) {
            return new bootstrap.Dropdown(dropdownToggleEl);
        });
        
    } catch (error) {
        console.error('Error loading navigation:', error);
    }
}

async function logoutUser() {
    try {
        const response = await fetch('/api/auth/logout', {
            method: 'POST'
        });
        
        if (response.ok) {
            window.location.reload();
        }
    } catch (error) {
        console.error('Logout error:', error);
    }
}
</script>

    <script src="script.js"></script>
</body>
</html>